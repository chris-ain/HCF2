import{chessScene,id}from"https://cdn.statically.io/gh/chris-ain/HCF/main/chess.js";import{curtains,curtainsmain}from"https://cdn.statically.io/gh/chris-ain/HCF/main/curtainsmain.js";import{curtainsTrans,curtainsTransFunc}from"https://cdn.statically.io/gh/chris-ain/HCF/main/curtainsTrans.js";import{curtainsAg,curtainsgenturfunc}from"https://cdn.statically.io/gh/chris-ain/HCF/main/curtainsagentur.js";import{curtainsProjDet,curtainsDet}from"https://cdn.statically.io/gh/chris-ain/HCF/main/curtainsdet.js";import{curtainsP,projfunc}from"https://cdn.statically.io/gh/chris-ain/HCF/main/projekte.js";import{trans}from"https://cdn.statically.io/gh/chris-ain/HCF/main/menu.js";import{menuItems}from"https://cdn.statically.io/gh/chris-ain/HCF/main/menuItems.js";import{curtainsMainTransFunc,curtainsMainTrans}from"https://cdn.statically.io/gh/chris-ain/HCF/main/curtainsMainTrans.js";window.addEventListener("load",function(t){barba.use(barbaPrefetch),function(){gsap.registerPlugin(ScrollTrigger),gsap.set(".page_wrap",{autoAlpha:0,opacity:0});const t=document.querySelector(".navwrapper"),e=t=>document.querySelector(t),n=e(".js-loader"),a=e(".js-loader__inner");let r;function o(t){let e={el:document.querySelector("#page-content"),smooth:!0,getSpeed:!0,getDirection:!0,inertia:.5,multiplier:1.5,mobile:{breakpoint:0,smooth:!0},tablet:{breakpoint:0,smooth:!0}};"true"==document.querySelector("#page-content").getAttribute("data-horizontal")&&(e.direction="horizontal",e.gestureDirection="both",e.tablet={smooth:!0,direction:"horizontal",horizontalGesture:!0},e.reloadOnContextChange=!0),(r=new LocomotiveScroll(e)).on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy(".smooth-scroll",{scrollTop(t){return arguments.length?r.scrollTo(t,0,0):r.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight})}),gsap.set(".scroll_indicator_line",{xPercent:-100}),gsap.to(".scroll_indicator_line",{xPercent:0,ease:"none",scrollTrigger:{trigger:".main",start:"top top",scroller:".smooth-scroll",end:"bottom bottom",endTrigger:".footer_scroll",scrub:.3}}),ScrollTrigger.addEventListener("refresh",()=>r.update()),ScrollTrigger.refresh()}function i(){e("body").classList.remove("is-loading")}e(".js-loader__mask"),menuItems(),gsap.set(n,{autoAlpha:1}),gsap.set(a,{scaleY:.005,transformOrigin:"bottom"}),barba.hooks.before(()=>{e("html").classList.add("is-transitioning")}),barba.hooks.after(()=>{e("html").classList.remove("is-transitioning"),r.init()}),barba.hooks.enter(()=>{window.scrollTo(0,0)}),barba.init({views:[{namespace:"home",beforeEnter(){trans.in(),setTimeout(function(){trans.animating||trans.in()},300)},afterEnter(){$("#page_content").imagesLoaded({},function(){curtainsmain(r),curtainsMainTransFunc(r),chessScene(),gsap.to(".page_wrap",{autoAlpha:1,opacity:1,duration:0,delay:1.7})}),document.querySelectorAll(".plane_main_trans").forEach(t=>{t.addEventListener("click",t=>{r.stop(),r.destroy(),gsap.to("#fullscreen",{opacity:0,duration:0})})}),gsap.to(".line_1",{xPercent:-10,ease:"none",scrollTrigger:{trigger:"#sticky_logo_section",start:"top top",scroller:".smooth-scroll",end:"bottom bottom",endtrigger:".footer",scrub:1}}),gsap.to(".line2",{xPercent:10,ease:"none",scrollTrigger:{trigger:"#sticky_logo_section",start:"top top",scroller:".smooth-scroll",end:"bottom bottom",endtrigger:".footer",scrub:1}}),gsap.to(".line3",{xPercent:-10,ease:"none",scrollTrigger:{trigger:"#sticky_logo_section",start:"top top",scroller:".smooth-scroll",end:"bottom bottom",endtrigger:".footer",scrub:1}})},beforeLeave(t){cancelAnimationFrame(id),curtains.clear(),curtains.dispose(),setTimeout(function(){curtainsMainTrans.clear(),curtainsMainTrans.dispose()},2e3)}},{namespace:"agentur",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$("#page_content").imagesLoaded({},function(){curtainsgenturfunc(r),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:1.3})})},beforeLeave(t){setTimeout(function(){curtainsAg.clear(),curtainsAg.dispose()},1e3)}},{namespace:"projektdetail",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){gsap.set(".pro_in",{opacity:0,duration:.3}),$("#images").imagesLoaded().always(function(t){}).done(function(t){setTimeout(function(){curtainsTransFunc(r),curtainsProjDet(r),trans.in()},300);const e=gsap.timeline();e.to(".img_fullscreen",{delay:.8,opacity:.5,duration:1}),e.to(".pro_in",{opacity:1,stagger:.2}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5}),document.querySelectorAll(".next_proj").forEach(t=>{t.addEventListener("click",t=>{r.stop(),r.destroy(),gsap.to("#fullscreen",{opacity:0,duration:0})})}),document.querySelectorAll(".menubutton").forEach(t=>{t.addEventListener("click",t=>{r.stop(),r.destroy(),gsap.to("#fullscreen",{opacity:1,duration:0})})});const n=document.querySelector("#brand");n.addEventListener("click",()=>{gsap.to("#fullscreen",{opacity:1,duration:0})})}).fail(function(){}).progress(function(t,e){e.isLoaded})},beforeLeave(t){setTimeout(function(){curtainsDet.clear(),curtainsDet.dispose(),curtainsTrans.clear(),curtainsTrans.dispose()},2e3)}},{namespace:"jobs",beforeEnter(){trans.in(),setTimeout(function(){trans.out()},200)},afterEnter(){gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})},beforeLeave(t){}},{namespace:"kontakt",beforeEnter(){trans.out(),setTimeout(function(){trans.in()},200)},afterEnter(){gsap.to(".page_wrap",{opacity:1,autoAlpha:1,duration:1,delay:.5})},beforeLeave(t){}},{namespace:"logofolio",beforeEnter(){trans.in(),setTimeout(function(){trans.out()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})})},beforeLeave(t){}},{namespace:"sachverstÃ¤ndiger",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3),curtainsmain(r),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})})},beforeLeave(t){curtainsmain.clear(),curtainsmain.destroy()}},{namespace:"proj",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3),projfunc(r),document.querySelectorAll(".plane").forEach(t=>{t.addEventListener("click",t=>{trans.out()})}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})})},beforeLeave(t){setTimeout(function(){curtainsP.clear(),curtainsP.dispose()},2500)}},{namespace:"jobs",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3),projfunc(r);const t=document.querySelector("#page-content");t.addEventListener("click",()=>{}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})})},beforeLeave(t){setTimeout(function(){curtainsP.clear(),curtainsP.dispose()},2e3)}},{namespace:"impressum",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3)}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})},beforeLeave(t){setTimeout(function(){curtainsP.clear(),curtainsP.dispose()},2e3)}},{namespace:"datenschutz",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3)}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})},beforeLeave(t){setTimeout(function(){curtainsP.clear(),curtainsP.dispose()},2e3)}},{namespace:"projekte_mob",beforeEnter(){setTimeout(function(){trans.animating||trans.in()},200)},afterEnter(){$(document).ready(function(){setTimeout(function(){trans.in()},2e3),curtainsMainTransFunc(r)}),gsap.to(".page_wrap",{autoAlpha:1,duration:1,delay:.5})},beforeLeave(t){setTimeout(function(){curtainsP.clear(),curtainsP.dispose()})}}],sync:!0,debug:!0,timeout:7e3,transitions:[{name:"overlay-transition",once(e){o(e.next.container),t.classList.add("pointernone"),setTimeout(function(){trans.out()},200),setTimeout(function(){trans.in()},1700),function(){const t=gsap.timeline({id:"tlLoaderIn",defaults:{duration:1.1,delay:.2,ease:"power2.out"},onComplete:()=>i()});t.to(a,{scaleY:1,transformOrigin:"bottom",ease:"power1.inOut"});const e=gsap.timeline({id:"tlLoaderOut",defaults:{delay:.2,duration:.2,ease:"power2.inOut"}});e.to(n,{yPercent:-100},.2),gsap.timeline().add(t).add(e)}()},async leave(t){var e;await(e=2e3,e=e||2e3,new Promise(t=>{setTimeout(()=>{t()},e)})),t.current.container.remove()},async enter(t){},async beforeEnter(t){ScrollTrigger.getAll().forEach(t=>t.kill()),r.destroy(),o(t.next.container),Webflow.destroy(),Webflow.ready(),Webflow.require("ix2").init()}}]})}()});
